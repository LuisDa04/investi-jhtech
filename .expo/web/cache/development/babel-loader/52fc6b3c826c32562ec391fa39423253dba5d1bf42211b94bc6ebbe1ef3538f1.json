{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\invit\\\\Downloads\\\\investi-app\\\\src\\\\screens\\\\ChatListScreen.tsx\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { MoreVertical, Search } from \"lucide-react-native\";\nimport { getCurrentUserId, request } from \"../rest/api\";\nimport { useAuthGuard } from \"../hooks/useAuthGuard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ChatListScreen({\n  navigation\n}) {\n  const [users, setUsers] = useState([]);\n  const [chats, setChats] = useState([]);\n  const [filteredChats, setFilteredChats] = useState([]);\n  const [activeFilter, setActiveFilter] = useState(\"Todos\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  useAuthGuard();\n  useEffect(() => {\n    loadData();\n  }, []);\n  useEffect(() => {\n    filterChats();\n  }, [chats, activeFilter, searchQuery]);\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const uid = await getCurrentUserId();\n      if (!uid) return;\n      const usersRes = await request(\"GET\", \"/users\", {\n        params: {\n          select: \"id,nombre,avatar_url,is_online,last_seen_at\",\n          order: \"last_seen_at.desc\",\n          limit: \"10\"\n        }\n      });\n      setUsers(usersRes || []);\n      const chatsRes = await request(\"GET\", \"/chats\", {\n        params: {\n          or: `user_id.eq.${uid},participant_id.eq.${uid}`,\n          select: \"id,type,last_message,last_message_at,unread_count,community:communities(id,nombre,icono_url),user:users!chats_participant_id_fkey(id,nombre,avatar_url)\",\n          order: \"last_message_at.desc\"\n        }\n      });\n      setChats(chatsRes || []);\n    } catch (err) {\n      console.error(\"Error loading chats:\", err);\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  };\n  const onRefresh = useCallback(() => {\n    setRefreshing(true);\n    loadData();\n  }, []);\n  const filterChats = () => {\n    let filtered = chats;\n    if (activeFilter === \"No leídos\") {\n      filtered = filtered.filter(chat => chat.unread_count > 0);\n    } else if (activeFilter === \"Comunidades\") {\n      filtered = filtered.filter(chat => chat.type === \"community\");\n    }\n    if (searchQuery.trim()) {\n      filtered = filtered.filter(chat => {\n        const name = chat.type === \"community\" ? chat.community?.nombre : chat.user?.nombre;\n        return name?.toLowerCase().includes(searchQuery.toLowerCase());\n      });\n    }\n    setFilteredChats(filtered);\n  };\n  const renderUserStory = ({\n    item\n  }) => _jsxDEV(TouchableOpacity, {\n    style: styles.storyContainer,\n    children: [_jsxDEV(View, {\n      style: styles.storyAvatarContainer,\n      children: [_jsxDEV(Image, {\n        source: {\n          uri: item.avatar_url || \"https://i.pravatar.cc/100\"\n        },\n        style: styles.storyAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), item.is_online && _jsxDEV(View, {\n        style: styles.onlineDot\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), _jsxDEV(Text, {\n      style: styles.storyName,\n      numberOfLines: 1,\n      children: item.nombre\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n  const renderChatItem = ({\n    item\n  }) => {\n    const isCommunity = item.type === \"community\";\n    const name = isCommunity ? item.community?.nombre : item.user?.nombre;\n    const avatar = isCommunity ? item.community?.icono_url : item.user?.avatar_url;\n    const lastMessage = item.last_message || \"Sin mensajes aún\";\n    const time = new Date(item.last_message_at).toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n    return _jsxDEV(TouchableOpacity, {\n      style: styles.chatItem,\n      onPress: () => navigation.navigate(\"ChatScreen\", {\n        chatId: item.id,\n        type: item.type,\n        name: name\n      }),\n      children: [_jsxDEV(Image, {\n        source: {\n          uri: avatar || \"https://i.pravatar.cc/100\"\n        },\n        style: styles.chatAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.chatContent,\n        children: [_jsxDEV(Text, {\n          style: styles.chatName,\n          numberOfLines: 1,\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.chatMessage,\n          numberOfLines: 1,\n          children: isCommunity && item.unread_count > 0 ? `${item.unread_count} chats no leídos` : lastMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.chatMeta,\n        children: [_jsxDEV(Text, {\n          style: styles.chatTime,\n          children: time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), item.unread_count > 0 && _jsxDEV(View, {\n          style: styles.unreadDot\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return _jsxDEV(SafeAreaView, {\n      style: styles.container,\n      children: _jsxDEV(View, {\n        style: styles.loadingContainer,\n        children: _jsxDEV(ActivityIndicator, {\n          size: \"large\",\n          color: \"#2673f3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Text, {\n        style: styles.headerTitle,\n        children: \"Mensajes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.headerActions,\n        children: [_jsxDEV(TouchableOpacity, {\n          children: _jsxDEV(Search, {\n            size: 22,\n            color: \"#111\",\n            style: {\n              marginRight: 16\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          children: _jsxDEV(MoreVertical, {\n            size: 22,\n            color: \"#111\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.searchBar,\n      children: [_jsxDEV(Search, {\n        size: 18,\n        color: \"#999\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), _jsxDEV(TextInput, {\n        placeholder: \"Buscar\",\n        placeholderTextColor: \"#999\",\n        style: styles.searchInput,\n        value: searchQuery,\n        onChangeText: setSearchQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), _jsxDEV(ScrollView, {\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      style: styles.filters,\n      children: [\"Todos\", \"No leídos\", \"Comunidades\"].map(f => _jsxDEV(TouchableOpacity, {\n        style: [styles.filterChip, activeFilter === f && styles.filterChipActive],\n        onPress: () => setActiveFilter(f),\n        children: _jsxDEV(Text, {\n          style: [styles.filterText, activeFilter === f && styles.filterTextActive],\n          children: f\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)\n      }, f, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), _jsxDEV(FlatList, {\n      data: users,\n      renderItem: renderUserStory,\n      keyExtractor: item => item.id,\n      horizontal: true,\n      style: styles.stories,\n      showsHorizontalScrollIndicator: false,\n      refreshControl: _jsxDEV(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh,\n        colors: ['#2673f3'],\n        tintColor: \"#2673f3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), _jsxDEV(FlatList, {\n      data: filteredChats,\n      renderItem: renderChatItem,\n      keyExtractor: item => item.id,\n      style: styles.chatList,\n      showsVerticalScrollIndicator: false,\n      refreshControl: _jsxDEV(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh,\n        colors: ['#2673f3'],\n        tintColor: \"#2673f3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this),\n      ListEmptyComponent: _jsxDEV(View, {\n        style: styles.emptyState,\n        children: [_jsxDEV(Text, {\n          style: styles.emptyStateText,\n          children: \"No hay chats disponibles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), _jsxDEV(Text, {\n          style: styles.emptyStateSubtext,\n          children: activeFilter === \"No leídos\" ? \"No tienes mensajes sin leer\" : \"Inicia una conversación\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#eee\"\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: \"600\",\n    color: \"#111\"\n  },\n  headerActions: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  searchBar: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    margin: 16,\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderRadius: 12,\n    backgroundColor: \"#f5f5f5\"\n  },\n  searchInput: {\n    marginLeft: 8,\n    fontSize: 16,\n    color: \"#111\",\n    flex: 1\n  },\n  filters: {\n    marginLeft: 16,\n    marginBottom: 12\n  },\n  filterChip: {\n    paddingHorizontal: 14,\n    paddingVertical: 6,\n    borderRadius: 20,\n    backgroundColor: \"#f5f5f5\",\n    marginRight: 8\n  },\n  filterChipActive: {\n    backgroundColor: \"#2673f3\"\n  },\n  filterText: {\n    fontSize: 14,\n    color: \"#111\"\n  },\n  filterTextActive: {\n    color: \"#fff\"\n  },\n  stories: {\n    paddingLeft: 16,\n    marginBottom: 8\n  },\n  storyContainer: {\n    alignItems: \"center\",\n    marginRight: 16\n  },\n  storyAvatarContainer: {\n    position: \"relative\"\n  },\n  storyAvatar: {\n    width: 56,\n    height: 56,\n    borderRadius: 28\n  },\n  onlineDot: {\n    position: \"absolute\",\n    bottom: 2,\n    right: 2,\n    width: 14,\n    height: 14,\n    borderRadius: 7,\n    backgroundColor: \"#2ecc71\",\n    borderWidth: 2,\n    borderColor: \"#fff\"\n  },\n  storyName: {\n    fontSize: 12,\n    color: \"#111\",\n    marginTop: 4,\n    maxWidth: 60\n  },\n  chatList: {\n    flex: 1\n  },\n  chatItem: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 16,\n    paddingVertical: 14,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#f0f0f0\"\n  },\n  chatAvatar: {\n    width: 48,\n    height: 48,\n    borderRadius: 24\n  },\n  chatContent: {\n    flex: 1,\n    marginLeft: 12\n  },\n  chatName: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: \"#111\"\n  },\n  chatMessage: {\n    fontSize: 14,\n    color: \"#666\",\n    marginTop: 2\n  },\n  chatMeta: {\n    alignItems: \"flex-end\"\n  },\n  chatTime: {\n    fontSize: 12,\n    color: \"#999\",\n    marginBottom: 6\n  },\n  unreadDot: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    backgroundColor: \"#2673f3\"\n  },\n  emptyState: {\n    alignItems: \"center\",\n    paddingVertical: 40\n  },\n  emptyStateText: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: \"#666\",\n    marginBottom: 8\n  },\n  emptyStateSubtext: {\n    fontSize: 14,\n    color: \"#999\",\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useCallback","View","Text","StyleSheet","SafeAreaView","TouchableOpacity","FlatList","TextInput","Image","ScrollView","RefreshControl","ActivityIndicator","MoreVertical","Search","getCurrentUserId","request","useAuthGuard","jsxDEV","_jsxDEV","ChatListScreen","navigation","users","setUsers","chats","setChats","filteredChats","setFilteredChats","activeFilter","setActiveFilter","searchQuery","setSearchQuery","loading","setLoading","refreshing","setRefreshing","loadData","filterChats","uid","usersRes","params","select","order","limit","chatsRes","or","err","console","error","onRefresh","filtered","filter","chat","unread_count","type","trim","name","community","nombre","user","toLowerCase","includes","renderUserStory","item","style","styles","storyContainer","children","storyAvatarContainer","source","uri","avatar_url","storyAvatar","fileName","_jsxFileName","lineNumber","columnNumber","is_online","onlineDot","storyName","numberOfLines","renderChatItem","isCommunity","avatar","icono_url","lastMessage","last_message","time","Date","last_message_at","toLocaleTimeString","hour","minute","chatItem","onPress","navigate","chatId","id","chatAvatar","chatContent","chatName","chatMessage","chatMeta","chatTime","unreadDot","container","loadingContainer","size","color","header","headerTitle","headerActions","marginRight","searchBar","placeholder","placeholderTextColor","searchInput","value","onChangeText","horizontal","showsHorizontalScrollIndicator","filters","map","f","filterChip","filterChipActive","filterText","filterTextActive","data","renderItem","keyExtractor","stories","refreshControl","colors","tintColor","chatList","showsVerticalScrollIndicator","ListEmptyComponent","emptyState","emptyStateText","emptyStateSubtext","create","flex","backgroundColor","justifyContent","alignItems","flexDirection","paddingHorizontal","paddingVertical","borderBottomWidth","borderBottomColor","fontSize","fontWeight","margin","borderRadius","marginLeft","marginBottom","paddingLeft","position","width","height","bottom","right","borderWidth","borderColor","marginTop","maxWidth","textAlign"],"sources":["C:/Users/invit/Downloads/investi-app/src/screens/ChatListScreen.tsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";  \r\nimport {  \r\n  View,  \r\n  Text,  \r\n  StyleSheet,  \r\n  SafeAreaView,  \r\n  TouchableOpacity,  \r\n  FlatList,  \r\n  TextInput,  \r\n  Image,  \r\n  ScrollView,  \r\n  RefreshControl,  \r\n  ActivityIndicator,  \r\n} from \"react-native\";  \r\nimport {  \r\n  ArrowLeft,  \r\n  MoreVertical,  \r\n  Search,  \r\n  Edit3,  \r\n} from \"lucide-react-native\";  \r\nimport { getCurrentUserId, request } from \"../rest/api\";  \r\nimport { useAuthGuard } from \"../hooks/useAuthGuard\";  \r\n  \r\ninterface User {  \r\n  id: string;  \r\n  nombre: string;  \r\n  avatar_url: string;  \r\n  is_online: boolean;  \r\n  last_seen_at: string;  \r\n}  \r\n  \r\ninterface Chat {  \r\n  id: string;  \r\n  type: \"direct\" | \"community\";  \r\n  last_message: string;  \r\n  last_message_at: string;  \r\n  unread_count: number;  \r\n  user?: {  \r\n    id: string;  \r\n    nombre: string;  \r\n    avatar_url: string;  \r\n  };  \r\n  community?: {  \r\n    id: string;  \r\n    nombre: string;  \r\n    icono_url: string;  \r\n    members_count: number;  \r\n  };  \r\n}  \r\n  \r\nexport function ChatListScreen({ navigation }: any) {  \r\n  const [users, setUsers] = useState<User[]>([]);  \r\n  const [chats, setChats] = useState<Chat[]>([]);  \r\n  const [filteredChats, setFilteredChats] = useState<Chat[]>([]);  \r\n  const [activeFilter, setActiveFilter] = useState(\"Todos\");  \r\n  const [searchQuery, setSearchQuery] = useState(\"\");  \r\n  const [loading, setLoading] = useState(true);  \r\n  const [refreshing, setRefreshing] = useState(false);  \r\n  \r\n  useAuthGuard();  \r\n  \r\n  useEffect(() => {  \r\n    loadData();  \r\n  }, []);  \r\n  \r\n  useEffect(() => {  \r\n    filterChats();  \r\n  }, [chats, activeFilter, searchQuery]);  \r\n  \r\n  const loadData = async () => {  \r\n    try {  \r\n      setLoading(true);  \r\n      const uid = await getCurrentUserId();  \r\n      if (!uid) return;  \r\n  \r\n      const usersRes = await request(\"GET\", \"/users\", {  \r\n        params: {  \r\n          select: \"id,nombre,avatar_url,is_online,last_seen_at\",  \r\n          order: \"last_seen_at.desc\",  \r\n          limit: \"10\",  \r\n        },  \r\n      });  \r\n      setUsers(usersRes || []);  \r\n  \r\n      const chatsRes = await request(\"GET\", \"/chats\", {  \r\n        params: {  \r\n          or: `user_id.eq.${uid},participant_id.eq.${uid}`,  \r\n          select: \"id,type,last_message,last_message_at,unread_count,community:communities(id,nombre,icono_url),user:users!chats_participant_id_fkey(id,nombre,avatar_url)\",  \r\n          order: \"last_message_at.desc\",  \r\n        },  \r\n      });  \r\n      setChats(chatsRes || []);  \r\n    } catch (err) {  \r\n      console.error(\"Error loading chats:\", err);  \r\n    } finally {  \r\n      setLoading(false);  \r\n      setRefreshing(false);  \r\n    }  \r\n  };  \r\n  \r\n  const onRefresh = useCallback(() => {  \r\n    setRefreshing(true);  \r\n    loadData();  \r\n  }, []);  \r\n  \r\n  const filterChats = () => {  \r\n    let filtered = chats;  \r\n  \r\n    if (activeFilter === \"No leídos\") {  \r\n      filtered = filtered.filter(chat => chat.unread_count > 0);  \r\n    } else if (activeFilter === \"Comunidades\") {  \r\n      filtered = filtered.filter(chat => chat.type === \"community\");  \r\n    }  \r\n  \r\n    if (searchQuery.trim()) {  \r\n      filtered = filtered.filter(chat => {  \r\n        const name = chat.type === \"community\"   \r\n          ? chat.community?.nombre   \r\n          : chat.user?.nombre;  \r\n        return name?.toLowerCase().includes(searchQuery.toLowerCase());  \r\n      });  \r\n    }  \r\n  \r\n    setFilteredChats(filtered);  \r\n  };  \r\n  \r\n  const renderUserStory = ({ item }: { item: User }) => (  \r\n    <TouchableOpacity style={styles.storyContainer}>  \r\n      <View style={styles.storyAvatarContainer}>  \r\n        <Image  \r\n          source={{ uri: item.avatar_url || \"https://i.pravatar.cc/100\" }}  \r\n          style={styles.storyAvatar}  \r\n        />  \r\n        {item.is_online && <View style={styles.onlineDot} />}  \r\n      </View>  \r\n      <Text style={styles.storyName} numberOfLines={1}>  \r\n        {item.nombre}  \r\n      </Text>  \r\n    </TouchableOpacity>  \r\n  );  \r\n  \r\n  const renderChatItem = ({ item }: { item: Chat }) => {  \r\n    const isCommunity = item.type === \"community\";  \r\n    const name = isCommunity ? item.community?.nombre : item.user?.nombre;  \r\n    const avatar = isCommunity  \r\n      ? item.community?.icono_url  \r\n      : item.user?.avatar_url;  \r\n    const lastMessage = item.last_message || \"Sin mensajes aún\";  \r\n    const time = new Date(item.last_message_at).toLocaleTimeString([], {  \r\n      hour: \"2-digit\",  \r\n      minute: \"2-digit\",  \r\n    });  \r\n  \r\n    return (  \r\n      <TouchableOpacity  \r\n        style={styles.chatItem}  \r\n        onPress={() =>  \r\n          navigation.navigate(\"ChatScreen\", {  \r\n            chatId: item.id,  \r\n            type: item.type,  \r\n            name: name,  \r\n          })  \r\n        }  \r\n      >  \r\n        <Image  \r\n          source={{ uri: avatar || \"https://i.pravatar.cc/100\" }}  \r\n          style={styles.chatAvatar}  \r\n        />  \r\n        <View style={styles.chatContent}>  \r\n          <Text style={styles.chatName} numberOfLines={1}>  \r\n            {name}  \r\n          </Text>  \r\n          <Text style={styles.chatMessage} numberOfLines={1}>  \r\n            {isCommunity && item.unread_count > 0  \r\n              ? `${item.unread_count} chats no leídos`  \r\n              : lastMessage}  \r\n          </Text>  \r\n        </View>  \r\n        <View style={styles.chatMeta}>  \r\n          <Text style={styles.chatTime}>{time}</Text>  \r\n          {item.unread_count > 0 && <View style={styles.unreadDot} />}  \r\n        </View>  \r\n      </TouchableOpacity>  \r\n    );  \r\n  };  \r\n  \r\n  if (loading) {  \r\n    return (  \r\n      <SafeAreaView style={styles.container}>  \r\n        <View style={styles.loadingContainer}>  \r\n          <ActivityIndicator size=\"large\" color=\"#2673f3\" />  \r\n        </View>  \r\n      </SafeAreaView>  \r\n    );  \r\n  }  \r\n  \r\n  return (  \r\n    <SafeAreaView style={styles.container}>  \r\n      <View style={styles.header}>  \r\n        <Text style={styles.headerTitle}>Mensajes</Text>  \r\n        <View style={styles.headerActions}>  \r\n          <TouchableOpacity>  \r\n            <Search size={22} color=\"#111\" style={{ marginRight: 16 }} />  \r\n          </TouchableOpacity>  \r\n          <TouchableOpacity>  \r\n            <MoreVertical size={22} color=\"#111\" />  \r\n          </TouchableOpacity>  \r\n        </View>  \r\n      </View>  \r\n  \r\n      <View style={styles.searchBar}>  \r\n        <Search size={18} color=\"#999\" />  \r\n        <TextInput  \r\n          placeholder=\"Buscar\"  \r\n          placeholderTextColor=\"#999\"  \r\n          style={styles.searchInput}  \r\n          value={searchQuery}  \r\n          onChangeText={setSearchQuery}  \r\n        />  \r\n      </View>  \r\n  \r\n      <ScrollView  \r\n        horizontal  \r\n        showsHorizontalScrollIndicator={false}  \r\n        style={styles.filters}  \r\n      >  \r\n        {[\"Todos\", \"No leídos\", \"Comunidades\"].map((f) => (  \r\n          <TouchableOpacity  \r\n            key={f}  \r\n            style={[  \r\n              styles.filterChip,  \r\n              activeFilter === f && styles.filterChipActive,  \r\n            ]}  \r\n            onPress={() => setActiveFilter(f)}  \r\n          >  \r\n            <Text  \r\n              style={[  \r\n                styles.filterText,  \r\n                activeFilter === f && styles.filterTextActive,  \r\n              ]}  \r\n            >  \r\n              {f}  \r\n            </Text>  \r\n          </TouchableOpacity>  \r\n        ))}  \r\n      </ScrollView>  \r\n  \r\n      <FlatList  \r\n        data={users}  \r\n        renderItem={renderUserStory}  \r\n        keyExtractor={(item) => item.id}  \r\n        horizontal  \r\n        style={styles.stories}  \r\n        showsHorizontalScrollIndicator={false}  \r\n        refreshControl={  \r\n          <RefreshControl  \r\n            refreshing={refreshing}  \r\n            onRefresh={onRefresh}  \r\n            colors={['#2673f3']}  \r\n            tintColor=\"#2673f3\"  \r\n          />  \r\n        }  \r\n      />  \r\n  \r\n      <FlatList  \r\n        data={filteredChats}  \r\n        renderItem={renderChatItem}  \r\n        keyExtractor={(item) => item.id}  \r\n        style={styles.chatList}  \r\n        showsVerticalScrollIndicator={false}  \r\n        refreshControl={  \r\n          <RefreshControl  \r\n            refreshing={refreshing}  \r\n            onRefresh={onRefresh}  \r\n            colors={['#2673f3']}  \r\n            tintColor=\"#2673f3\"  \r\n          />  \r\n        }  \r\n        ListEmptyComponent={  \r\n          <View style={styles.emptyState}>  \r\n            <Text style={styles.emptyStateText}>No hay chats disponibles</Text>  \r\n            <Text style={styles.emptyStateSubtext}>  \r\n              {activeFilter === \"No leídos\"   \r\n                ? \"No tienes mensajes sin leer\"  \r\n                : \"Inicia una conversación\"}  \r\n            </Text>  \r\n          </View>  \r\n        }  \r\n      />  \r\n    </SafeAreaView>  \r\n  );  \r\n}  \r\n  \r\nconst styles = StyleSheet.create({  \r\n  container: { flex: 1, backgroundColor: \"#fff\" },  \r\n  loadingContainer: {  \r\n    flex: 1,  \r\n    justifyContent: \"center\",  \r\n    alignItems: \"center\",  \r\n  },  \r\n  header: {  \r\n    flexDirection: \"row\",  \r\n    justifyContent: \"space-between\",  \r\n    alignItems: \"center\",  \r\n    paddingHorizontal: 16,  \r\n    paddingVertical: 12,  \r\n    borderBottomWidth: 1,  \r\n    borderBottomColor: \"#eee\",  \r\n  },  \r\n  headerTitle: { fontSize: 20, fontWeight: \"600\", color: \"#111\" },  \r\n  headerActions: { flexDirection: \"row\", alignItems: \"center\" },  \r\n  searchBar: {  \r\n    flexDirection: \"row\",  \r\n    alignItems: \"center\",  \r\n    margin: 16,  \r\n    paddingHorizontal: 12,  \r\n    paddingVertical: 8,  \r\n    borderRadius: 12,  \r\n    backgroundColor: \"#f5f5f5\",  \r\n  },  \r\n  searchInput: { marginLeft: 8, fontSize: 16, color: \"#111\", flex: 1 },  \r\n  filters: { marginLeft: 16, marginBottom: 12 },  \r\n  filterChip: {  \r\n    paddingHorizontal: 14,  \r\n    paddingVertical: 6,  \r\n    borderRadius: 20,  \r\n    backgroundColor: \"#f5f5f5\",  \r\n    marginRight: 8,  \r\n  },  \r\n  filterChipActive: { backgroundColor: \"#2673f3\" },  \r\n  filterText: { fontSize: 14, color: \"#111\" },  \r\n  filterTextActive: { color: \"#fff\" },  \r\n  stories: { paddingLeft: 16, marginBottom: 8 },  \r\n  storyContainer: { alignItems: \"center\", marginRight: 16 },  \r\n  storyAvatarContainer: { position: \"relative\" },  \r\n  storyAvatar: { width: 56, height: 56, borderRadius: 28 },  \r\n  onlineDot: {  \r\n    position: \"absolute\",  \r\n    bottom: 2,  \r\n    right: 2,  \r\n    width: 14,  \r\n    height: 14,  \r\n    borderRadius: 7,  \r\n    backgroundColor: \"#2ecc71\",  \r\n    borderWidth: 2,  \r\n    borderColor: \"#fff\",  \r\n  },  \r\n  storyName: { fontSize: 12, color: \"#111\", marginTop: 4, maxWidth: 60 },  \r\n  chatList: { flex: 1 },  \r\n  chatItem: {  \r\n    flexDirection: \"row\",  \r\n    alignItems: \"center\",  \r\n    paddingHorizontal: 16,  \r\n    paddingVertical: 14,  \r\n    borderBottomWidth: 1,  \r\n    borderBottomColor: \"#f0f0f0\",  \r\n  },  \r\n  chatAvatar: { width: 48, height: 48, borderRadius: 24 },  \r\n  chatContent: { flex: 1, marginLeft: 12 },  \r\n  chatName: { fontSize: 16, fontWeight: \"600\", color: \"#111\" },  \r\n  chatMessage: { fontSize: 14, color: \"#666\", marginTop: 2 },  \r\n  chatMeta: { alignItems: \"flex-end\" },  \r\n  chatTime: { fontSize: 12, color: \"#999\", marginBottom: 6 },  \r\n  unreadDot: {  \r\n    width: 10,  \r\n    height: 10,  \r\n    borderRadius: 5,  \r\n    backgroundColor: \"#2673f3\",  \r\n  },  \r\n  emptyState: {  \r\n    alignItems: \"center\",  \r\n    paddingVertical: 40,  \r\n  },  \r\n  emptyStateText: {  \r\n    fontSize: 16,  \r\n    fontWeight: \"600\",  \r\n    color: \"#666\",  \r\n    marginBottom: 8,  \r\n  },  \r\n  emptyStateSubtext: {  \r\n    fontSize: 14,  \r\n    color: \"#999\",  \r\n    textAlign: \"center\",  \r\n  },  \r\n});"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}